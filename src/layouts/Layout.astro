---
import { ClientRouter } from "astro:transitions";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import LoginRegister from "@components/LoginRegister.astro";
import { getLangFromUrl } from "@i18n/utils";

const lang = getLangFromUrl(Astro.url);

const { title, description, canonical, keywords } = Astro.props;
---

<style is:global>
	:root {
		--background: #f5ded2;
		--color-black: #252420;
		--color-white: #fff;
		--color: #f7b785;
		--color2: #efb577;
		--color3: #dfb25c;
		--color4: #a99c5e;
		--color5: #849474;
	}

	html,
	body {
		background-color: var(--background);
		color: var(--color-black);

		margin: 0;
		width: 100%;
		height: 100%;
	}

	header,
	footer {
		background-color: var(--color5);
		height: 5rem;

		span,
		p {
			color: var(--color-white);
		}
	}

	a {
		color: var(--color-white);
		font-weight: bolder;
		opacity: 1;

		&:hover {
		}
	}
</style>

<html lang={lang}>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<meta name="description" content={description} />
		<meta name="keywords" content={keywords} />

		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="canonical" href={canonical} />

		<title>{title}</title>
		<ClientRouter />
	</head>
	<body class="grid min-h-screen grid-rows-[auto_1fr_auto]">
		<!-- Modais -->
		<LoginRegister />
		<Header />
		<main class="container mx-auto p-4">
			<slot />
		</main>
		<Footer />
		<script src="node_modules/flowbite/dist/flowbite.min.js"></script>
	</body>
</html>
